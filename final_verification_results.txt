[dotenv@17.2.3] injecting env (41) from .env -- tip: üóÇÔ∏è backup and recover secrets: https://dotenvx.com/ops
--- VTPass Sandbox Comprehensive Testing ---
[VTPass] Initialized with SANDBOX environment
Adapter initialized for SANDBOX.

SCENARIO 1a: Successful Airtime (MTN - 08011111111)
[VTPass] Purchase request: {
  serviceID: 'mtn',
  requestId: '202601121721gnd7wbx8',
  service: 'AIRTIME'
}
[VTPass] Using API Key: da7a...
[VTPass] Purchase response: {
  code: '000',
  content: {
    transactions: {
      status: 'delivered',
      product_name: 'MTN Airtime VTU',
      unique_element: '08011111111',
      unit_price: '50',
      quantity: 1,
      service_verification: null,
      channel: 'api',
      commission: 1.7500000000000002,
      total_amount: 48.25,
      discount: null,
      type: 'Airtime Recharge',
      email: 'adaag.ad@gmail.com',
      phone: '08062249834',
      name: null,
      convinience_fee: 0,
      amount: '50',
      platform: 'api',
      method: 'api',
      transactionId: '17682348762916576580715488',
      commission_details: [Object]
    }
  },
  response_description: 'TRANSACTION SUCCESSFUL',
  requestId: '202601121721gnd7wbx8',
  amount: 50,
  transaction_date: '2026-01-12T16:21:16.000000Z',
  purchased_code: ''
}
Result: {
  "success": true,
  "status": "COMPLETED",
  "orderId": "test_mtn_1768234873708",
  "vendorReference": "202601121721gnd7wbx8",
  "vendorName": "VTPASS",
  "costPrice": 48.25,
  "message": "TRANSACTION SUCCESSFUL",
  "metadata": {
    "requestId": "202601121721gnd7wbx8",
    "transactionId": "17682348762916576580715488",
    "productName": "MTN Airtime VTU",
    "token": "",
    "transactions": {
      "status": "delivered",
      "product_name": "MTN Airtime VTU",
      "unique_element": "08011111111",
      "unit_price": "50",
      "quantity": 1,
      "service_verification": null,
      "channel": "api",
      "commission": 1.7500000000000002,
      "total_amount": 48.25,
      "discount": null,
      "type": "Airtime Recharge",
      "email": "adaag.ad@gmail.com",
      "phone": "08062249834",
      "name": null,
      "convinience_fee": 0,
      "amount": "50",
      "platform": "api",
      "method": "api",
      "transactionId": "17682348762916576580715488",
      "commission_details": {
        "amount": 1.7500000000000002,
        "rate": "3.50",
        "rate_type": "percent",
        "computation_type": "default"
      }
    }
  }
}

SCENARIO 1b: Successful Airtime (GLO - 08011111111)
[VTPass] Purchase request: {
  serviceID: 'glo',
  requestId: '202601121721v8u5strc',
  service: 'AIRTIME'
}
[VTPass] Using API Key: da7a...
[VTPass] Purchase response: {
  code: '019',
  response_description: 'LIKELY DUPLICATE TRANSACTION',
  content: {
    errors: 'Seems like duplicate transacton. allow a space of 15 seconds before using the same recepient'
  }
}
Result: {
  "success": false,
  "status": "FAILED",
  "orderId": "test_glo_1768234889289",
  "vendorReference": "202601121721v8u5strc",
  "vendorName": "VTPASS",
  "costPrice": 50,
  "message": "LIKELY DUPLICATE TRANSACTION",
  "metadata": {
    "requestId": "202601121721v8u5strc",
    "errors": "Seems like duplicate transacton. allow a space of 15 seconds before using the same recepient"
  }
}

SCENARIO 1c: Successful Airtime (AIRTEL - 08011111111)
[VTPass] Purchase request: {
  serviceID: 'airtel',
  requestId: '202601121721x2bf68cy',
  service: 'AIRTIME'
}
[VTPass] Using API Key: da7a...
[VTPass] Purchase response: {
  code: '019',
  response_description: 'LIKELY DUPLICATE TRANSACTION',
  content: {
    errors: 'Seems like duplicate transacton. allow a space of 15 seconds before using the same recepient'
  }
}
Result: {
  "success": false,
  "status": "FAILED",
  "orderId": "test_airtel_1768234889870",
  "vendorReference": "202601121721x2bf68cy",
  "vendorName": "VTPASS",
  "costPrice": 50,
  "message": "LIKELY DUPLICATE TRANSACTION",
  "metadata": {
    "requestId": "202601121721x2bf68cy",
    "errors": "Seems like duplicate transacton. allow a space of 15 seconds before using the same recepient"
  }
}

SCENARIO 2: Pending Airtime (201000000000)
[VTPass] Purchase request: {
  serviceID: 'mtn',
  requestId: '202601121721wudzawoi',
  service: 'AIRTIME'
}
[VTPass] Using API Key: da7a...
[VTPass] Purchase response: {
  code: '000',
  content: {
    transactions: {
      status: 'pending',
      product_name: 'MTN Airtime VTU',
      unique_element: '201000000000',
      unit_price: '50',
      quantity: 1,
      service_verification: null,
      channel: 'api',
      commission: 1.7500000000000002,
      total_amount: 48.25,
      discount: null,
      type: 'Airtime Recharge',
      email: 'adaag.ad@gmail.com',
      phone: '08062249834',
      name: null,
      convinience_fee: 0,
      amount: '50',
      platform: 'api',
      method: 'api',
      transactionId: '17682348905147654176940661',
      commission_details: [Object]
    }
  },
  response_description: 'TRANSACTION PROCESSING - PENDING',
  requestId: '202601121721wudzawoi',
  amount: 50,
  transaction_date: '2026-01-12T16:21:30.000000Z',
  purchased_code: ''
}
Result: {
  "success": false,
  "status": "PENDING",
  "orderId": "test_pending_1768234890400",
  "vendorReference": "202601121721wudzawoi",
  "vendorName": "VTPASS",
  "costPrice": 48.25,
  "message": "TRANSACTION PROCESSING - PENDING",
  "metadata": {
    "requestId": "202601121721wudzawoi",
    "transactionId": "17682348905147654176940661",
    "productName": "MTN Airtime VTU",
    "token": "",
    "transactions": {
      "status": "pending",
      "product_name": "MTN Airtime VTU",
      "unique_element": "201000000000",
      "unit_price": "50",
      "quantity": 1,
      "service_verification": null,
      "channel": "api",
      "commission": 1.7500000000000002,
      "total_amount": 48.25,
      "discount": null,
      "type": "Airtime Recharge",
      "email": "adaag.ad@gmail.com",
      "phone": "08062249834",
      "name": null,
      "convinience_fee": 0,
      "amount": "50",
      "platform": "api",
      "method": "api",
      "transactionId": "17682348905147654176940661",
      "commission_details": {
        "amount": 1.7500000000000002,
        "rate": "3.50",
        "rate_type": "percent",
        "computation_type": "default"
      }
    }
  }
}

SCENARIO 3: Failed Airtime (99999999999)
[VTPass] Purchase request: {
  serviceID: 'mtn',
  requestId: '202601121721otbxjpt8',
  service: 'AIRTIME'
}
[VTPass] Using API Key: da7a...
[VTPass] Purchase response: {
  code: '016',
  content: {
    transactions: {
      status: 'failed',
      product_name: 'MTN Airtime VTU',
      unique_element: '99999999999',
      unit_price: '50',
      quantity: 1,
      service_verification: null,
      channel: 'api',
      commission: 1.7500000000000002,
      total_amount: 48.25,
      discount: null,
      type: 'Airtime Recharge',
      email: 'adaag.ad@gmail.com',
      phone: '08062249834',
      name: null,
      convinience_fee: 0,
      amount: '50',
      platform: 'api',
      method: 'api',
      transactionId: '17682349067220831592929580',
      commission_details: [Object]
    }
  },
  response_description: 'TRANSACTION FAILED',
  requestId: '202601121721otbxjpt8',
  amount: 50,
  transaction_date: '2026-01-12T16:21:46.000000Z',
  purchased_code: ''
}
Result: {
  "success": false,
  "status": "FAILED",
  "orderId": "test_failed_1768234906600",
  "vendorReference": "202601121721otbxjpt8",
  "vendorName": "VTPASS",
  "costPrice": 48.25,
  "message": "TRANSACTION FAILED",
  "metadata": {
    "requestId": "202601121721otbxjpt8",
    "transactionId": "17682349067220831592929580",
    "productName": "MTN Airtime VTU",
    "token": "",
    "transactions": {
      "status": "failed",
      "product_name": "MTN Airtime VTU",
      "unique_element": "99999999999",
      "unit_price": "50",
      "quantity": 1,
      "service_verification": null,
      "channel": "api",
      "commission": 1.7500000000000002,
      "total_amount": 48.25,
      "discount": null,
      "type": "Airtime Recharge",
      "email": "adaag.ad@gmail.com",
      "phone": "08062249834",
      "name": null,
      "convinience_fee": 0,
      "amount": "50",
      "platform": "api",
      "method": "api",
      "transactionId": "17682349067220831592929580",
      "commission_details": {
        "amount": 1.7500000000000002,
        "rate": "3.50",
        "rate_type": "percent",
        "computation_type": "default"
      }
    }
  }
}

SCENARIO 4: Data Purchase
Fetched 37 plans.
Sample Plan: {
  id: 'mtn-10mb-100',
  name: 'N100 100MB - 24 hrs',
  network: 'MTN',
  price: 100,
  faceValue: 100,
  validity: '',
  isAvailable: true,
  metadata: { fixedPrice: 'Yes', variationCode: 'mtn-10mb-100' }
}
[VTPass] Purchase request: {
  serviceID: 'mtn-data',
  requestId: '2026011217220iw2a7ff',
  service: 'DATA'
}
[VTPass] Using API Key: da7a...
[VTPass] Purchase response: {
  code: '019',
  response_description: 'LIKELY DUPLICATE TRANSACTION',
  content: {
    errors: 'Seems like duplicate transacton. allow a space of 15 seconds before using the same recepient'
  }
}
Result: {
  "success": false,
  "status": "FAILED",
  "orderId": "test_data_1768234927674",
  "vendorReference": "2026011217220iw2a7ff",
  "vendorName": "VTPASS",
  "costPrice": 100,
  "message": "LIKELY DUPLICATE TRANSACTION",
  "metadata": {
    "requestId": "2026011217220iw2a7ff",
    "errors": "Seems like duplicate transacton. allow a space of 15 seconds before using the same recepient"
  }
}

SCENARIO 5: Electricity
Verifying Meter...
Verify Result: {
  "isValid": true,
  "customerName": "TESTMETER1",
  "address": "ABULE  EGBA BU ABULE",
  "metadata": {
    "Customer_Name": "TESTMETER1",
    "Address": "ABULE  EGBA BU ABULE",
    "Meter_Number": "68100017372",
    "Customer_Arrears": "",
    "Minimum_Amount": "",
    "Min_Purchase_Amount": "",
    "Can_Vend": "yes",
    "Business_Unit": "",
    "Customer_Account_Type": "PRIME",
    "Meter_Type": "PREPAID",
    "WrongBillersCode": false,
    "commission_details": {
      "amount": null,
      "rate": "1.50",
      "rate_type": "percent",
      "computation_type": "default"
    }
  }
}
Purchasing Electricity...
[VTPass] Purchase request: {
  serviceID: 'ikeja-electric',
  requestId: '202601121722kak0av8b',
  service: 'ELECTRICITY'
}
[VTPass] Using API Key: da7a...
[VTPass] Purchase response: {
  code: '000',
  content: {
    transactions: {
      status: 'delivered',
      product_name: 'Ikeja Electric Payment - IKEDC',
      unique_element: '1111111111111',
      unit_price: '1000',
      quantity: 1,
      service_verification: null,
      channel: 'api',
      commission: 15,
      total_amount: 985,
      discount: null,
      type: 'Electricity Bill',
      email: 'adaag.ad@gmail.com',
      phone: '08062249834',
      name: null,
      convinience_fee: 0,
      amount: '1000',
      platform: 'api',
      method: 'api',
      transactionId: '17682349288835149363648665',
      commission_details: [Object]
    }
  },
  response_description: 'TRANSACTION SUCCESSFUL',
  requestId: '202601121722kak0av8b',
  amount: 1000,
  transaction_date: '2026-01-12T16:22:08.000000Z',
  purchased_code: 'Token : 26362054405982757802',
  customerName: 'N/A',
  customerAddress: 'N/A',
  meterNumber: 'N/A',
  token: 'Token : 26362054405982757802',
  tokenAmount: 1860.47,
  exchangeReference: '40532461',
  resetToken: 'N/A',
  configureToken: 'N/A',
  units: '79.9 kWh',
  fixChargeAmount: 0,
  tariff: 'R2 SINGLE PHASE RESIDENTIAL',
  taxAmount: 0,
  debtAmount: 0,
  kct1: 'N/A',
  kct2: 'N/A',
  penalty: 0,
  costOfUnit: 0,
  announcement: 'N/A',
  meterCost: 0,
  currentCharge: 0,
  lossOfRevenue: 0,
  tariffBaseRate: 0,
  installationFee: 0,
  reconnectionFee: 0,
  meterServiceCharge: 0,
  administrativeCharge: 0
}
Purchase Result: {
  "success": true,
  "status": "COMPLETED",
  "orderId": "test_electric_1768234928698",
  "vendorReference": "202601121722kak0av8b",
  "vendorName": "VTPASS",
  "costPrice": 985,
  "message": "TRANSACTION SUCCESSFUL",
  "metadata": {
    "requestId": "202601121722kak0av8b",
    "transactionId": "17682349288835149363648665",
    "productName": "Ikeja Electric Payment - IKEDC",
    "token": "Token : 26362054405982757802",
    "transactions": {
      "status": "delivered",
      "product_name": "Ikeja Electric Payment - IKEDC",
      "unique_element": "1111111111111",
      "unit_price": "1000",
      "quantity": 1,
      "service_verification": null,
      "channel": "api",
      "commission": 15,
      "total_amount": 985,
      "discount": null,
      "type": "Electricity Bill",
      "email": "adaag.ad@gmail.com",
      "phone": "08062249834",
      "name": null,
      "convinience_fee": 0,
      "amount": "1000",
      "platform": "api",
      "method": "api",
      "transactionId": "17682349288835149363648665",
      "commission_details": {
        "amount": 15,
        "rate": "1.50",
        "rate_type": "percent",
        "computation_type": "default"
      }
    }
  }
}

SCENARIO 6: TV Subscription (GOTV)
[VTPass] Purchase request: {
  serviceID: 'gotv',
  requestId: '2026011217221tubyup9',
  service: 'CABLE_TV'
}
[VTPass] Using API Key: da7a...
[VTPass] Purchase response: {
  code: '000',
  content: {
    transactions: {
      status: 'delivered',
      product_name: 'Gotv Payment',
      unique_element: '1212121212',
      unit_price: '100',
      quantity: 1,
      service_verification: null,
      channel: 'api',
      commission: 1.5,
      total_amount: 98.5,
      discount: null,
      type: 'TV Subscription',
      email: 'adaag.ad@gmail.com',
      phone: '08062249834',
      name: null,
      convinience_fee: 0,
      amount: '100',
      platform: 'api',
      method: 'api',
      transactionId: '17682349425297863168279119',
      commission_details: [Object]
    }
  },
  response_description: 'TRANSACTION SUCCESSFUL',
  requestId: '2026011217221tubyup9',
  amount: 100,
  transaction_date: '2026-01-12T16:22:22.000000Z',
  purchased_code: ''
}
Result: {
  "success": true,
  "status": "COMPLETED",
  "orderId": "test_tv_1768234942401",
  "vendorReference": "2026011217221tubyup9",
  "vendorName": "VTPASS",
  "costPrice": 98.5,
  "message": "TRANSACTION SUCCESSFUL",
  "metadata": {
    "requestId": "2026011217221tubyup9",
    "transactionId": "17682349425297863168279119",
    "productName": "Gotv Payment",
    "token": "",
    "transactions": {
      "status": "delivered",
      "product_name": "Gotv Payment",
      "unique_element": "1212121212",
      "unit_price": "100",
      "quantity": 1,
      "service_verification": null,
      "channel": "api",
      "commission": 1.5,
      "total_amount": 98.5,
      "discount": null,
      "type": "TV Subscription",
      "email": "adaag.ad@gmail.com",
      "phone": "08062249834",
      "name": null,
      "convinience_fee": 0,
      "amount": "100",
      "platform": "api",
      "method": "api",
      "transactionId": "17682349425297863168279119",
      "commission_details": {
        "amount": 1.5,
        "rate": "1.50",
        "rate_type": "percent",
        "computation_type": "default"
      }
    }
  }
}

SCENARIO 7: Education (WAEC Result Checker)
[VTPass] Purchase request: {
  serviceID: 'waec',
  requestId: '202601121722tkkvdz52',
  service: 'EDUCATION'
}
[VTPass] Using API Key: da7a...
[VTPass] Purchase response: {
  code: '000',
  content: {
    transactions: {
      status: 'delivered',
      product_name: 'WAEC Result Checker PIN',
      unique_element: '08011111111',
      unit_price: '3500',
      quantity: 1,
      service_verification: null,
      channel: 'api',
      commission: '100.00',
      total_amount: 3400,
      discount: null,
      type: 'Education',
      email: 'adaag.ad@gmail.com',
      phone: '08062249834',
      name: null,
      convinience_fee: 0,
      amount: '3500',
      platform: 'api',
      method: 'api',
      transactionId: '17682349539961208753274596',
      commission_details: [Object]
    }
  },
  response_description: 'TRANSACTION SUCCESSFUL',
  requestId: '202601121722tkkvdz52',
  amount: 3500,
  transaction_date: '2026-01-12T16:22:34.000000Z',
  purchased_code: 'Serial No:WRN182135587, pin: 373820665258||Serial No:WRN182135588, pin: 373827897584||Serial No:WRN182135589, pin: 373833873043',
  cards: [
    { Serial: 'WRN182135587', Pin: '373820665258' },
    { Serial: 'WRN182135588', Pin: '373827897584' },
    { Serial: 'WRN182135589', Pin: '373833873043' }
  ]
}
Result: {
  "success": true,
  "status": "COMPLETED",
  "orderId": "test_edu_1768234953857",
  "vendorReference": "202601121722tkkvdz52",
  "vendorName": "VTPASS",
  "costPrice": 3400,
  "message": "TRANSACTION SUCCESSFUL",
  "metadata": {
    "requestId": "202601121722tkkvdz52",
    "transactionId": "17682349539961208753274596",
    "productName": "WAEC Result Checker PIN",
    "token": "Serial No:WRN182135587, pin: 373820665258||Serial No:WRN182135588, pin: 373827897584||Serial No:WRN182135589, pin: 373833873043",
    "transactions": {
      "status": "delivered",
      "product_name": "WAEC Result Checker PIN",
      "unique_element": "08011111111",
      "unit_price": "3500",
      "quantity": 1,
      "service_verification": null,
      "channel": "api",
      "commission": "100.00",
      "total_amount": 3400,
      "discount": null,
      "type": "Education",
      "email": "adaag.ad@gmail.com",
      "phone": "08062249834",
      "name": null,
      "convinience_fee": 0,
      "amount": "3500",
      "platform": "api",
      "method": "api",
      "transactionId": "17682349539961208753274596",
      "commission_details": {
        "amount": "100.00",
        "rate": "100.00",
        "rate_type": "flat",
        "computation_type": "default"
      }
    }
  }
}

[dotenv@17.2.3] injecting env (41) from .env -- tip: ⚙️  override existing env vars with { override: true }
--- VTPass Sandbox Comprehensive Testing ---
[VTPass] Initialized with SANDBOX environment
Adapter initialized for SANDBOX.

SCENARIO 1a: Successful Airtime (MTN - 08011111111)
[VTPass] Purchase request: {
  serviceID: 'mtn',
  requestId: '202601121630qbm8sw7j',
  service: 'AIRTIME'
}
[VTPass] Using API Key: da7a...
[VTPass] Purchase response: {
  code: '028',
  response_description: 'PRODUCT IS NOT WHITELISTED ON YOUR ACCOUNT',
  content: { errors: '' }
}
[VTPass] Error 028: Product not whitelisted. You might be using a LIVE account in SANDBOX mode, or vice versa. Please check your VTPASS_USE_SANDBOX setting.
Result: {
  "success": false,
  "status": "FAILED",
  "orderId": "test_mtn_1768231808438",
  "vendorReference": "202601121630qbm8sw7j",
  "vendorName": "VTPASS",
  "costPrice": 50,
  "message": "PRODUCT IS NOT WHITELISTED ON YOUR ACCOUNT",
  "metadata": {
    "requestId": "202601121630qbm8sw7j",
    "errors": ""
  }
}

SCENARIO 1b: Successful Airtime (GLO - 08011111111)
[VTPass] Purchase request: {
  serviceID: 'glo',
  requestId: '202601121630q8rr5j9l',
  service: 'AIRTIME'
}
[VTPass] Using API Key: da7a...
[VTPass] Purchase response: {
  code: '028',
  response_description: 'PRODUCT IS NOT WHITELISTED ON YOUR ACCOUNT',
  content: { errors: '' }
}
[VTPass] Error 028: Product not whitelisted. You might be using a LIVE account in SANDBOX mode, or vice versa. Please check your VTPASS_USE_SANDBOX setting.
Result: {
  "success": false,
  "status": "FAILED",
  "orderId": "test_glo_1768231810643",
  "vendorReference": "202601121630q8rr5j9l",
  "vendorName": "VTPASS",
  "costPrice": 50,
  "message": "PRODUCT IS NOT WHITELISTED ON YOUR ACCOUNT",
  "metadata": {
    "requestId": "202601121630q8rr5j9l",
    "errors": ""
  }
}

SCENARIO 1c: Successful Airtime (AIRTEL - 08011111111)
[VTPass] Purchase request: {
  serviceID: 'airtel',
  requestId: '202601121630333mexjj',
  service: 'AIRTIME'
}
[VTPass] Using API Key: da7a...
[VTPass] Purchase response: {
  code: '028',
  response_description: 'PRODUCT IS NOT WHITELISTED ON YOUR ACCOUNT',
  content: { errors: '' }
}
[VTPass] Error 028: Product not whitelisted. You might be using a LIVE account in SANDBOX mode, or vice versa. Please check your VTPASS_USE_SANDBOX setting.
Result: {
  "success": false,
  "status": "FAILED",
  "orderId": "test_airtel_1768231811022",
  "vendorReference": "202601121630333mexjj",
  "vendorName": "VTPASS",
  "costPrice": 50,
  "message": "PRODUCT IS NOT WHITELISTED ON YOUR ACCOUNT",
  "metadata": {
    "requestId": "202601121630333mexjj",
    "errors": ""
  }
}

SCENARIO 2: Pending Airtime (201000000000)
[VTPass] Purchase request: {
  serviceID: 'mtn',
  requestId: '202601121630m3zbjpmg',
  service: 'AIRTIME'
}
[VTPass] Using API Key: da7a...
[VTPass] Purchase response: {
  code: '028',
  response_description: 'PRODUCT IS NOT WHITELISTED ON YOUR ACCOUNT',
  content: { errors: '' }
}
[VTPass] Error 028: Product not whitelisted. You might be using a LIVE account in SANDBOX mode, or vice versa. Please check your VTPASS_USE_SANDBOX setting.
Result: {
  "success": false,
  "status": "FAILED",
  "orderId": "test_pending_1768231811422",
  "vendorReference": "202601121630m3zbjpmg",
  "vendorName": "VTPASS",
  "costPrice": 50,
  "message": "PRODUCT IS NOT WHITELISTED ON YOUR ACCOUNT",
  "metadata": {
    "requestId": "202601121630m3zbjpmg",
    "errors": ""
  }
}

SCENARIO 3: Failed Airtime (99999999999)
[VTPass] Purchase request: {
  serviceID: 'mtn',
  requestId: '202601121630btkh8l93',
  service: 'AIRTIME'
}
[VTPass] Using API Key: da7a...
[VTPass] Purchase response: {
  code: '028',
  response_description: 'PRODUCT IS NOT WHITELISTED ON YOUR ACCOUNT',
  content: { errors: '' }
}
[VTPass] Error 028: Product not whitelisted. You might be using a LIVE account in SANDBOX mode, or vice versa. Please check your VTPASS_USE_SANDBOX setting.
Result: {
  "success": false,
  "status": "FAILED",
  "orderId": "test_failed_1768231811812",
  "vendorReference": "202601121630btkh8l93",
  "vendorName": "VTPASS",
  "costPrice": 50,
  "message": "PRODUCT IS NOT WHITELISTED ON YOUR ACCOUNT",
  "metadata": {
    "requestId": "202601121630btkh8l93",
    "errors": ""
  }
}

SCENARIO 4: Data Purchase
Fetched 37 plans.
Sample Plan: {
  id: 'mtn-10mb-100',
  name: 'N100 100MB - 24 hrs',
  network: 'MTN',
  price: 100,
  faceValue: 100,
  validity: '',
  isAvailable: true,
  metadata: { fixedPrice: 'Yes', variationCode: 'mtn-10mb-100' }
}
[VTPass] Purchase request: {
  serviceID: 'mtn-data',
  requestId: '202601121630sll7zcnn',
  service: 'DATA'
}
[VTPass] Using API Key: da7a...
[VTPass] Purchase response: {
  code: '028',
  response_description: 'PRODUCT IS NOT WHITELISTED ON YOUR ACCOUNT',
  content: { errors: '' }
}
[VTPass] Error 028: Product not whitelisted. You might be using a LIVE account in SANDBOX mode, or vice versa. Please check your VTPASS_USE_SANDBOX setting.
Result: {
  "success": false,
  "status": "FAILED",
  "orderId": "test_data_1768231812554",
  "vendorReference": "202601121630sll7zcnn",
  "vendorName": "VTPASS",
  "costPrice": 100,
  "message": "PRODUCT IS NOT WHITELISTED ON YOUR ACCOUNT",
  "metadata": {
    "requestId": "202601121630sll7zcnn",
    "errors": ""
  }
}

SCENARIO 5: Electricity
Verifying Meter...
Verify Result: {
  "isValid": true,
  "customerName": "TESTMETER1",
  "address": "ABULE  EGBA BU ABULE",
  "metadata": {
    "Customer_Name": "TESTMETER1",
    "Address": "ABULE  EGBA BU ABULE",
    "Meter_Number": "68100017372",
    "Customer_Arrears": "",
    "Minimum_Amount": "",
    "Min_Purchase_Amount": "",
    "Can_Vend": "yes",
    "Business_Unit": "",
    "Customer_Account_Type": "PRIME",
    "Meter_Type": "PREPAID",
    "WrongBillersCode": false,
    "commission_details": {
      "amount": null,
      "rate": "1.50",
      "rate_type": "percent",
      "computation_type": "default"
    }
  }
}
Purchasing Electricity...
[VTPass] Purchase request: {
  serviceID: 'ikeja-electric',
  requestId: '202601121630x27v2eu7',
  service: 'ELECTRICITY'
}
[VTPass] Using API Key: da7a...
[VTPass] Purchase response: {
  code: '028',
  response_description: 'PRODUCT IS NOT WHITELISTED ON YOUR ACCOUNT',
  content: { errors: '' }
}
[VTPass] Error 028: Product not whitelisted. You might be using a LIVE account in SANDBOX mode, or vice versa. Please check your VTPASS_USE_SANDBOX setting.
Purchase Result: {
  "success": false,
  "status": "FAILED",
  "orderId": "test_electric_1768231813298",
  "vendorReference": "202601121630x27v2eu7",
  "vendorName": "VTPASS",
  "costPrice": 1000,
  "message": "PRODUCT IS NOT WHITELISTED ON YOUR ACCOUNT",
  "metadata": {
    "requestId": "202601121630x27v2eu7",
    "errors": ""
  }
}
